# 05 - ä¹¦å•æ”¶è—

> **éš¾åº¦**: â­â­ | **é¢„è®¡æ—¶é—´**: 4-5 å°æ—¶

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

ç”¨æˆ·å¯ä»¥åˆ›å»ºä¹¦å•ï¼Œæ”¶è—å–œæ¬¢çš„å›¾ä¹¦ï¼Œæ”¯æŒå…¬å¼€åˆ†äº«ã€‚

---

## âœ… ä»»åŠ¡æ¸…å•

### 1. æ•°æ®æ¨¡å‹

```prisma
model Booklist {
  id          Int      @id @default(autoincrement())
  userId      Int
  name        String
  description String?
  isPublic    Boolean  @default(false)

  user        User     @relation(fields: [userId], references: [id])
  items       BooklistItem[]

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model BooklistItem {
  id         Int      @id @default(autoincrement())
  booklistId Int
  bookId     Int
  note       String?  // ç”¨æˆ·ç¬”è®°

  booklist   Booklist @relation(fields: [booklistId], references: [id], onDelete: Cascade)
  book       Book     @relation(fields: [bookId], references: [id])

  createdAt  DateTime @default(now())

  @@unique([booklistId, bookId])
}
```

---

### 2. ä¹¦å• API

| æ–¹æ³•   | è·¯å¾„                               | æƒé™   | è¯´æ˜           |
| ------ | ---------------------------------- | ------ | -------------- |
| POST   | `/api/booklists`                   | USER   | åˆ›å»ºä¹¦å•       |
| GET    | `/api/booklists/my`                | USER   | è·å–æˆ‘çš„ä¹¦å•   |
| GET    | `/api/booklists/public`            | PUBLIC | è·å–å…¬å¼€ä¹¦å•   |
| GET    | `/api/booklists/:id`               | USER   | è·å–ä¹¦å•è¯¦æƒ…   |
| PUT    | `/api/booklists/:id`               | USER   | æ›´æ–°ä¹¦å•       |
| DELETE | `/api/booklists/:id`               | USER   | åˆ é™¤ä¹¦å•       |
| POST   | `/api/booklists/:id/books`         | USER   | æ·»åŠ å›¾ä¹¦åˆ°ä¹¦å• |
| DELETE | `/api/booklists/:id/books/:bookId` | USER   | ä»ä¹¦å•ç§»é™¤å›¾ä¹¦ |

---

### 3. å‰ç«¯é¡µé¢

#### ç”¨æˆ·ç«¯

- [ ] "æˆ‘çš„ä¹¦å•"é¡µé¢
- [ ] åˆ›å»º/ç¼–è¾‘ä¹¦å•å¼¹çª—
- [ ] ä¹¦å•è¯¦æƒ…é¡µï¼ˆæ˜¾ç¤ºä¹¦ç±åˆ—è¡¨ï¼‰
- [ ] ä¹¦ç±è¯¦æƒ…é¡µæ·»åŠ "åŠ å…¥ä¹¦å•"æŒ‰é’®
- [ ] å‘ç°é¡µå±•ç¤ºå…¬å¼€ä¹¦å•

---

## âœ… å®Œæˆæ ‡å¿—

- [ ] ç”¨æˆ·å¯ä»¥åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ä¹¦å•
- [ ] ç”¨æˆ·å¯ä»¥æ·»åŠ /ç§»é™¤ä¹¦å•ä¸­çš„å›¾ä¹¦
- [ ] æ”¯æŒè®¾ç½®ä¹¦å•å…¬å¼€/ç§å¯†
- [ ] å¯ä»¥æµè§ˆå…¶ä»–ç”¨æˆ·çš„å…¬å¼€ä¹¦å•
